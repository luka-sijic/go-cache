{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/based/Documents/projects/next-app/src/app/product/ProductList.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from \"react\";\n\ntype Product = {\n  id: number;\n  name: string;\n  price: number;\n};\n\nexport default function ProductList({ products }: { products: Product[] }) {\n    const [editableProducts, setEditableProducts] = useState(() => [...products]);\n\n\n    function handleClick(product: Product) {\n        console.log('Clicked', product);\n    }\n\n    function handlePriceChange(id: number, newPrice: number) {\n        const updated = editableProducts.find(p => p.id === id);\n        if (!updated) return;\n\n        setEditableProducts((prev) => \n           prev.map((p) => (p.id === id ? {...p, price: newPrice } : p))\n        );\n\n        fetch('http://localhost:8086/products', {\n           method: 'PATCH',\n           headers: {\n               'Content-Type': 'application/json',\n           },\n           body: JSON.stringify({ id, name: updated.name, price: newPrice }),\n        });\n    }\n    \n    useEffect(() => {\n        const evtSource = new EventSource('http://localhost:8086/events');\n        evtSource.addEventListener('update', (e) => {\n            const data: Product = JSON.parse(e.data);\n            setEditableProducts(prev =>\n                prev.map(p => (p.id === data.id ? data : p))\n            );\n        });\n\n        return () => {\n            evtSource.close();\n        };\n    }, []);\n\n    return (\n    <ul className=\"space-y-4\">\n      {editableProducts.map((product) => (\n        <li key={product.id} className=\"flex justify-between border p-4\">\n          <div>\n            <p>{product.name}</p>\n            <input\n                type='number'\n                value={product.price}\n                onChange={(e) => {\n                    const newPrice = parseFloat(e.target.value);\n                    setEditableProducts(prev =>\n                        prev.map(x =>\n                            x.id === product.id ? { ...x, price: newPrice } : x\n                        )\n                    );\n                }}\n                onKeyDown={e => {\n                    if (e.key === 'Enter') {\n                        const price = parseFloat((e.target as HTMLInputElement).value)\n                        handlePriceChange(product.id, price);\n                    }\n                }}\n            />\n          </div>\n          <button\n            onClick={() => handleClick(product)}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded\"\n          >\n            Select\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAUe,SAAS,YAAY,EAAE,QAAQ,EAA2B;IACrE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAAM;eAAI;SAAS;IAG5E,SAAS,YAAY,OAAgB;QACjC,QAAQ,GAAG,CAAC,WAAW;IAC3B;IAEA,SAAS,kBAAkB,EAAU,EAAE,QAAgB;QACnD,MAAM,UAAU,iBAAiB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;QACpD,IAAI,CAAC,SAAS;QAEd,oBAAoB,CAAC,OAClB,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,KAAK;oBAAC,GAAG,CAAC;oBAAE,OAAO;gBAAS,IAAI;QAG7D,MAAM,kCAAkC;YACrC,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAI,MAAM,QAAQ,IAAI;gBAAE,OAAO;YAAS;QAClE;IACJ;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,YAAY,IAAI,YAAY;QAClC,UAAU,gBAAgB,CAAC,UAAU,CAAC;YAClC,MAAM,OAAgB,KAAK,KAAK,CAAC,EAAE,IAAI;YACvC,oBAAoB,CAAA,OAChB,KAAK,GAAG,CAAC,CAAA,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE,GAAG,OAAO;QAEjD;QAEA,OAAO;YACH,UAAU,KAAK;QACnB;IACJ,GAAG,EAAE;IAEL,qBACA,8OAAC;QAAG,WAAU;kBACX,iBAAiB,GAAG,CAAC,CAAC,wBACrB,8OAAC;gBAAoB,WAAU;;kCAC7B,8OAAC;;0CACC,8OAAC;0CAAG,QAAQ,IAAI;;;;;;0CAChB,8OAAC;gCACG,MAAK;gCACL,OAAO,QAAQ,KAAK;gCACpB,UAAU,CAAC;oCACP,MAAM,WAAW,WAAW,EAAE,MAAM,CAAC,KAAK;oCAC1C,oBAAoB,CAAA,OAChB,KAAK,GAAG,CAAC,CAAA,IACL,EAAE,EAAE,KAAK,QAAQ,EAAE,GAAG;gDAAE,GAAG,CAAC;gDAAE,OAAO;4CAAS,IAAI;gCAG9D;gCACA,WAAW,CAAA;oCACP,IAAI,EAAE,GAAG,KAAK,SAAS;wCACnB,MAAM,QAAQ,WAAW,AAAC,EAAE,MAAM,CAAsB,KAAK;wCAC7D,kBAAkB,QAAQ,EAAE,EAAE;oCAClC;gCACJ;;;;;;;;;;;;kCAGN,8OAAC;wBACC,SAAS,IAAM,YAAY;wBAC3B,WAAU;kCACX;;;;;;;eAzBM,QAAQ,EAAE;;;;;;;;;;AAgC3B","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///Users/based/Documents/projects/next-app/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAczC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;YAEP;QACF,OAAO;;QAMP;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///Users/based/Documents/projects/next-app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Users/based/Documents/projects/next-app/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored['react-ssr'].React\n"],"names":["module","exports","require","vendored","React"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CAAC,YAAY,CAACC,KAAK","ignoreList":[0],"debugId":null}}]
}